{% extends "base.html" %}
{% load static %}


{% block content %}

<h1>POST DETAILğŸ–¼ï¸</h1>
<div>
    <div style="display: flex; flex-direction: row;">
        <div>
            <b>user : </b><a href="{{ user.get_absolute_url }}">{{ post.user.nickname }} |</a>
            <b>title</b> : {{ post.title }}
        </div>
        <div style="display: flex; flex-direction: row; margin-left: 50px;">
            <form action="{% url 'posts:post_like' pk=post.id %}" method='post'>
                {% csrf_token %}
                {% if user in post.like_users.all %}
                <button type="submit" class="btn btn-danger">ì¢‹ì•„ìš” ì·¨ì†Œ</button>
                {% else %}
                <button type="submit" class="btn btn-light">ì¢‹ì•„ìš”</button>
                {% endif %}
            </form>
            {{ post.like_users.count }}
        </div>
    </div>
    <div style="margin: 20px 5px;">
        <img src="{% get_media_prefix %}{{ post.image }}" alt="" width="300" height="300">
    </div>
    <b>content</b> : {{ post.content }} <br>
    <b>ìƒì„± ë‚ ì§œ</b> : {{ post.created_at }} <br>
    <b>ìˆ˜ì • ë‚ ì§œ</b> : {{ post.updated_at }}
</div>
<div>
    <div style="display: flex; flex-direction: row;">
        <h1 style="margin: 50px 0px;">COMMENTğŸ’¬</h1>
        <div style="margin: 60px 20px;;">
            <a href="{% url 'posts:comment_upload' pk=post.id %}"><b>ëŒ“ê¸€ ë“±ë¡í•˜ê¸°</b></a>
        </div>
    </div>
    {% for comment in comment_list %}
    <li style="margin: 0px 10px;">
        {{ comment.user }} | {{ comment.comment }} | {{ comment.updated_at }}
        <div style="display: flex; flex-direction: row;">
            <div style="margin-right: 10px;">
                <a href="{% url 'posts:comment_update' pk=comment.id %}"><span>ìˆ˜ì •</span></a>
            </div>
            <div>
                <form action="{% url 'posts:comment_delete' pk=comment.id %}" method="post">
                    {% csrf_token %}
                    <a href="{% url 'posts:comment_delete' pk=comment.id %}"><span>ì‚­ì œ</span></a>
                </form>
            </div>
        </div>
    </li>
    {% empty %}
    <li style="margin: 30px 0px;">
        âŒëŒ“ê¸€ì´ ì¡´ì¬í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤âŒ
    </li>
    {% endfor %}
</div>

{% endblock content %}